{
  "metainfo" : {
    "migrationVersions" : {
      "gemBuilderVersion" : "v1"
    },
    "codeGenConfiguration" : {
      "editableConfig" : false
    },
    "id" : "1",
    "uri" : "pipelines/data_vectorize",
    "language" : "python",
    "fabricId" : "3572",
    "frontEndLanguage" : "sql",
    "mode" : "batch",
    "udfs" : {
      "language" : "python",
      "udfs" : [ ],
      "functionPackageName" : "sumitpaulprophecyioteam.optumgenaichatbottemplate.functions",
      "sharedFunctionPackageNames" : [ "prophecy.spark_basic.functions", "prophecy.streaming.functions", "prophecy.warehouse.functions" ]
    },
    "udafs" : {
      "language" : "python",
      "code" : ""
    },
    "configuration" : {
      "common" : {
        "type" : "record",
        "fields" : [ ]
      },
      "oldCommon" : {
        "type" : "record",
        "fields" : [ ]
      },
      "fabrics" : { },
      "instances" : { },
      "selected" : "default",
      "nonEditable" : [ ],
      "isSubscribedPipelineWithPipelineConfigs" : false
    },
    "sparkConf" : [ ],
    "hadoopConf" : [ ],
    "codeMode" : "sparse",
    "buildSystem" : "maven",
    "externalDependencies" : [ {
      "type" : "pypi",
      "package" : "opensearch-py",
      "name" : "opensearchpy",
      "enabled" : true,
      "id" : "0d4Y6",
      "editable" : true
    }, {
      "type" : "pypi",
      "package" : "boto3==1.28.62",
      "name" : "boto3",
      "enabled" : true,
      "id" : "I7lDQ",
      "editable" : true
    }, {
      "type" : "pypi",
      "package" : "pdf2image",
      "name" : "pdf2image",
      "enabled" : true,
      "id" : "nRwR4",
      "editable" : true
    }, {
      "type" : "pypi",
      "package" : "unstructured==0.7.4",
      "name" : "unstructured",
      "enabled" : true,
      "id" : "pip5l",
      "editable" : true
    }, {
      "type" : "pypi",
      "package" : "prophecy-spark-ai==0.1.11",
      "name" : "prophecy_spark_ai",
      "enabled" : false,
      "id" : "Fql9s",
      "editable" : false
    } ],
    "dependentProjectExternalDependencies" : [ {
      "projectUID" : "12654",
      "projectName" : "ProphecySparkBasicsPython",
      "externalDependencies" : [ ]
    }, {
      "projectUID" : "12656",
      "projectName" : "ProphecyStreamingPython",
      "externalDependencies" : [ ]
    }, {
      "projectUID" : "12655",
      "projectName" : "ProphecyWarehousePython",
      "externalDependencies" : [ ]
    } ],
    "isImported" : false,
    "interimMode" : "Full",
    "interimModeEnabled" : true,
    "visualCodeInterimMode" : "Disabled",
    "recordsLimit" : {
      "enabled" : false,
      "value" : 1000
    },
    "topLevelPackage" : "data_vectorize",
    "configurationVersion" : "v1"
  },
  "connections" : [ {
    "id" : "BLTT8zlwlnCqhqyQXc0Aa$$2u2tkUCSi9xAD6xOV0TZw",
    "source" : "7msPqIFBZv4r5A0DqgQ0T$$AFwg25mc21IpcrT1EJvXZ",
    "sourcePort" : "lEK3GElp2G5xXpD6EIINd$$mZYhVgu_ubW61-LLfpab8",
    "target" : "kJxdJDL1SZP1cuKZ_X7Nw$$0NpdwI1pFJF_WrSut7M8M",
    "targetPort" : "ly5yZqK9ZAxZ5dByrKKQ9$$152hSBXu5uMzDy5XrSLq3"
  }, {
    "id" : "vsLtiHsyQgSGTSFEvV2M2$$_fY0or5FxJnEaIkqQWPWw",
    "source" : "GZ2OyX8Xj8nf2It3rFshL$$9w_yEOcVS4F56nSX_Wt7L",
    "sourcePort" : "4_C11OlnLazt28GPpe0iI$$OhE_oWiXfE0zPL6bVLEOa",
    "target" : "9yEPWjdw1vcet0MZUPAGi$$uWKytw4Elt0aM7IGOuPvO",
    "targetPort" : "3aUhtN30MZ9GFp2j3K6XH$$EwCizAE25zfvCI8rtLTnN"
  }, {
    "id" : "znPw-mOFM60d2wdEtiHR8",
    "source" : "TF5cE338Sk3tHEo1xNdlO$$EsQzff3e1MJQ-xxHknOPy",
    "sourcePort" : "SNUa8pExQm-CE15vM1y2u$$Pr4H_UE-JACmAKQpkax3M",
    "target" : "7ojN7asGQi36J1SfoW7dj$$7i49qzW7EDrZaboMKTJjz",
    "targetPort" : "mhxAAyWv42db0l6urdw_C$$bXswOCunuT6YLefVBp66L"
  }, {
    "id" : "BYHgGJ7AMYBQh4GtItOvr",
    "source" : "rM-RE_zaCJZzNm4CQVQzy$$NIcW6JWhrAi94lpDdbjNG",
    "sourcePort" : "58Q_5VkebK6VNGcCXqtNJ$$Wak2Q9QgLpcSGiy4ldMpM",
    "target" : "NmMxiNofzPzXiSncNWe6t$$vY0nP5XGnnmVXiEJew1c3",
    "targetPort" : "szvn6ziMVAveBHT7U8KqP$$AoLMKzL-3d0-kPwfiLSFY"
  }, {
    "id" : "5H-10Z9iW5rgSQ7sk4xAZ$$7XMVvDqsBjv5dxoX1G6fJ",
    "source" : "kJxdJDL1SZP1cuKZ_X7Nw$$0NpdwI1pFJF_WrSut7M8M",
    "sourcePort" : "q6W2TCzAcOJZiZ1rEgyou$$-sJauq-e9pIVTSPHtCqdE",
    "target" : "fGRK4PmmcjKp3ye9PsnEb$$T5cXF_42jqTZLghIa0Gk_",
    "targetPort" : "Q_jhPpm7Hl-ikVy2mLfGQ$$GpZPdWzDpe0fVFqLU8EF6"
  }, {
    "id" : "P9Omv-UzBVMXt28sqqg6S",
    "source" : "7ojN7asGQi36J1SfoW7dj$$7i49qzW7EDrZaboMKTJjz",
    "sourcePort" : "oNXR_-p7tDF55XYoy3vAR$$LdbY16Z-vSa0jULNs3U5f",
    "target" : "NTymLALMnbaOkEEGXI8I8$$smsC1luzsvvQlNPhKDELA",
    "targetPort" : "7BP0H3YvbmKndvzya7re5$$iRTWTL7IAit_o7HTalXbH"
  }, {
    "id" : "W2R5NYFPZcHAwiyCdinms",
    "source" : "NTymLALMnbaOkEEGXI8I8$$smsC1luzsvvQlNPhKDELA",
    "sourcePort" : "rupNrdTmkf9GiSrSbJjxs$$Q1aXl27LqyVaeaoH1iFN4",
    "target" : "mdNDmsmeDOKpFavD9TCGk$$k0XGhD_ECbR4E8D22qgMP",
    "targetPort" : "qFxHoTzSI9YnDiEvQBuWR$$LjexbcsXwxeWYUc11TV8Y"
  }, {
    "id" : "NlhSaUwRj4GHwVR0YUh5k$$Px5UHsmRuhtzzSmwZVxEY",
    "source" : "9yEPWjdw1vcet0MZUPAGi$$uWKytw4Elt0aM7IGOuPvO",
    "sourcePort" : "SpSVZS_p70yFurNXx3DwR$$qYf4PY8Wf1cHpcEHymskR",
    "target" : "-jqpKLI1JSWrKJwzpFeiR$$qVWZ6zx93Lxmoc9HkOhGH",
    "targetPort" : "FEEJFcjugkAnfzHdWalIl$$3dV76SvO_xj68NC6YtGyX"
  }, {
    "id" : "m03hWpwyFhb_c-60GQ1N6",
    "source" : "-jqpKLI1JSWrKJwzpFeiR$$qVWZ6zx93Lxmoc9HkOhGH",
    "sourcePort" : "GR-hciBom_2ChBx_H6uk8$$oPw3XC_O9unyCEp_ByQB9",
    "target" : "7msPqIFBZv4r5A0DqgQ0T$$AFwg25mc21IpcrT1EJvXZ",
    "targetPort" : "p1ILkMeUB57SzPHZ-tmMk$$dnR6-QpxiIhD2fztYYxX8"
  }, {
    "id" : "_CjQ0x28cZZ7KFi-k1RdM$$A3NkopkPnt4zchd2gLU4i",
    "source" : "hNUdmU3VwndGuiEIe1iB3$$TAXT88AADr36rslnNcfgF",
    "sourcePort" : "uypYrLhgkKzMajlNWgxgJ$$BzT757EzC1JovD5E2NwkM",
    "target" : "dOYGvQ7KH17MxVDCEysOm$$d-ZNDUMV6XfYBp5xT9Hy9",
    "targetPort" : "NqN22KSrpjTm-bcxxNKu0$$PARb-EMFCyFWfQUbJGCFF"
  }, {
    "id" : "MxgnOAe0tbYO1oxXPd_rW",
    "source" : "dOYGvQ7KH17MxVDCEysOm$$d-ZNDUMV6XfYBp5xT9Hy9",
    "sourcePort" : "jFf6yUv0EPxQpewDhMhX4$$gDcaaUVjNcyWZJzV_pm38",
    "target" : "TF5cE338Sk3tHEo1xNdlO$$EsQzff3e1MJQ-xxHknOPy",
    "targetPort" : "3E2y-qBaoHV43kAMjZKqu$$tFLPEaBGgjl2cf4FI_kZl"
  }, {
    "id" : "lpCyIdDk9J2htq6D7lgRh$$4B-LwobUB2kTIcoker7Pj",
    "source" : "JIuLQaZqQrZIsofe1ZaiE$$nINKltnTeqrFGtVZN7r0f",
    "sourcePort" : "-HvFNkJ6TF1f6ddifpBTz$$a5hg9aUjjF19oCUi8IZ61",
    "target" : "zUUinS1HUKK3sJByrSNva$$h0skOcnWtU6isrKC9pLUf",
    "targetPort" : "bZsYvAPpBbjLuYTLBgBt3$$aiSP4ws-qSdpZ-MDb0Cic"
  }, {
    "id" : "Igvf4dhrbdXbLBBPAp3ED",
    "source" : "zUUinS1HUKK3sJByrSNva$$h0skOcnWtU6isrKC9pLUf",
    "sourcePort" : "3RS2fzdMdKPtSLBcduB_R$$HmLTOjDsBRcWvLe4i3eIo",
    "target" : "rM-RE_zaCJZzNm4CQVQzy$$NIcW6JWhrAi94lpDdbjNG",
    "targetPort" : "TY2EN8E6rIGKDDjWo2iZc$$Jrr98a2hX9k5Kmq9-_tuF"
  }, {
    "id" : "DJZql_hZYMbyVKVq79mgc$$PUCFwUrsTYrukk96xx4Xf",
    "source" : "NmMxiNofzPzXiSncNWe6t$$vY0nP5XGnnmVXiEJew1c3",
    "sourcePort" : "5l0px6YnrYtjLZ0Ps1h0J$$0X0wOtTPSCp-3GKeb_cDM",
    "target" : "Isz4iBdyuT1R2XbXprcMn$$3hzk814MuCsgz-sf0srJ3",
    "targetPort" : "2YmvikyJgYONHHUjuyXRJ$$bH24T6kEn0Lo6xPS8XUCI"
  }, {
    "id" : "A9YT79cbqr9rrRNT3Z9cf",
    "source" : "Isz4iBdyuT1R2XbXprcMn$$3hzk814MuCsgz-sf0srJ3",
    "sourcePort" : "4krcJV_U6uxh5D96Hvz4b$$UiF2B9KG2Ryi5IYZzNd4z",
    "target" : "GZ2OyX8Xj8nf2It3rFshL$$9w_yEOcVS4F56nSX_Wt7L",
    "targetPort" : "T9gBuJQrwWWXxjNq_PzUF$$dpqUij3w4fIH7dDHraN2U"
  }, {
    "id" : "ggZEWLBRZGj61JYnPJ89Y$$VjY1VO3CLt_V92_ue5Y4G",
    "source" : "hDQrFwgBCFz05VDt1Nca8$$Qzyqix1pcJSmIxk8hZ4W7",
    "sourcePort" : "msSF1CafS-eR2uqmEvcnS$$e5nhrMFCCpMWbf4pLNzL3",
    "target" : "eDFraeZS1NPPGCKUZq3GH$$nXnIlDKUlv6OFHzb4uvOT",
    "targetPort" : "Se36kMRgZ68XUzsIOZ5HF$$AzfCenjRXsmRRmRRYspso"
  }, {
    "id" : "ufrgaooioFeMLfon-o6ir",
    "source" : "eDFraeZS1NPPGCKUZq3GH$$nXnIlDKUlv6OFHzb4uvOT",
    "sourcePort" : "xYXJuylFHxxT8U2XVTEM4$$GxwvK4hN1-LIlamHaaDj4",
    "target" : "kOyQyTIldbKwNRAbBtz0D$$15hAc4Xb_RqmlF_CF32ZC",
    "targetPort" : "9eu69W5m1OoxGPzgQ8Z1U$$vnrI2PN8bjUGT_X0nls1E"
  } ],
  "processes" : {
    "NmMxiNofzPzXiSncNWe6t$$vY0nP5XGnnmVXiEJew1c3" : {
      "id" : "NmMxiNofzPzXiSncNWe6t$$vY0nP5XGnnmVXiEJew1c3",
      "component" : "Reformat",
      "metadata" : {
        "label" : "document_ids",
        "slug" : "document_ids",
        "x" : -2320,
        "y" : -540,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "szvn6ziMVAveBHT7U8KqP$$AoLMKzL-3d0-kPwfiLSFY",
          "slug" : "in0",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "path",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "text",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "outputs" : [ {
          "id" : "5l0px6YnrYtjLZ0Ps1h0J$$0X0wOtTPSCp-3GKeb_cDM",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false,
        "autoUpdateOnRun" : false
      },
      "properties" : {
        "importLanguage" : "${$.workflow.metainfo.frontEndLanguage}",
        "expressions" : [ {
          "target" : "doc_id",
          "expression" : {
            "format" : "sql",
            "expression" : "concat('doc-', monotonically_increasing_id())"
          },
          "description" : ""
        }, {
          "target" : "path",
          "expression" : {
            "format" : "sql",
            "expression" : "path"
          },
          "description" : ""
        }, {
          "target" : "text",
          "expression" : {
            "format" : "sql",
            "expression" : "text"
          },
          "description" : ""
        } ],
        "importString" : "",
        "activeTab" : "expressions",
        "columnsSelector" : [ "szvn6ziMVAveBHT7U8KqP$$AoLMKzL-3d0-kPwfiLSFY##text", "szvn6ziMVAveBHT7U8KqP$$AoLMKzL-3d0-kPwfiLSFY##path" ]
      },
      "componentInfo" : {
        "gemId" : "gitUri=&subPath=&tag=0.0.7&projectSubscriptionProjectId=12654&path=gems/Reformat",
        "projectName" : "ProphecySparkBasicsPython"
      }
    },
    "NTymLALMnbaOkEEGXI8I8$$smsC1luzsvvQlNPhKDELA" : {
      "id" : "NTymLALMnbaOkEEGXI8I8$$smsC1luzsvvQlNPhKDELA",
      "component" : "TextProcessing",
      "metadata" : {
        "label" : "chunkify_docx",
        "slug" : "chunkify_docx",
        "x" : -2160,
        "y" : -720,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "7BP0H3YvbmKndvzya7re5$$iRTWTL7IAit_o7HTalXbH",
          "slug" : "in0",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "doc_id",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "path",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "text",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "outputs" : [ {
          "id" : "rupNrdTmkf9GiSrSbJjxs$$Q1aXl27LqyVaeaoH1iFN4",
          "slug" : "out",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "doc_id",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "path",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "text",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "result_chunks",
              "type" : {
                "type" : "array",
                "elementType" : "string",
                "containsNull" : true
              },
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : true,
        "autoUpdateOnRun" : false
      },
      "properties" : {
        "operation" : "text_split_into_chunks",
        "column_name" : "text",
        "split_chunk_size" : 1000,
        "chunk_overlap" : 0
      },
      "componentInfo" : {
        "gemId" : "gems/TextProcessing",
        "projectName" : "optum_gen_ai_chatbot_template"
      }
    },
    "zUUinS1HUKK3sJByrSNva$$h0skOcnWtU6isrKC9pLUf" : {
      "id" : "zUUinS1HUKK3sJByrSNva$$h0skOcnWtU6isrKC9pLUf",
      "component" : "TextProcessing",
      "metadata" : {
        "label" : "parse_pdf",
        "slug" : "parse_pdf",
        "x" : -2640,
        "y" : -540,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "bZsYvAPpBbjLuYTLBgBt3$$aiSP4ws-qSdpZ-MDb0Cic",
          "slug" : "in0",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "path",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "modificationTime",
              "type" : "timestamp",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "length",
              "type" : "long",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "content",
              "type" : "binary",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "outputs" : [ {
          "id" : "3RS2fzdMdKPtSLBcduB_R$$HmLTOjDsBRcWvLe4i3eIo",
          "slug" : "out",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "path",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "modificationTime",
              "type" : "timestamp",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "length",
              "type" : "long",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "content",
              "type" : "binary",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "result_content",
              "type" : {
                "type" : "array",
                "elementType" : {
                  "type" : "struct",
                  "fields" : [ {
                    "name" : "element_id",
                    "type" : "string",
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  }, {
                    "name" : "coordinates",
                    "type" : {
                      "type" : "array",
                      "elementType" : "float",
                      "containsNull" : true
                    },
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  }, {
                    "name" : "text",
                    "type" : "string",
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  }, {
                    "name" : "type",
                    "type" : "string",
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  }, {
                    "name" : "metadata",
                    "type" : {
                      "type" : "struct",
                      "fields" : [ {
                        "name" : "filename",
                        "type" : "string",
                        "nullable" : true,
                        "metadata" : {
                          "description" : "",
                          "mappings" : [ ],
                          "tags" : [ ]
                        }
                      }, {
                        "name" : "filetype",
                        "type" : "string",
                        "nullable" : true,
                        "metadata" : {
                          "description" : "",
                          "mappings" : [ ],
                          "tags" : [ ]
                        }
                      }, {
                        "name" : "page_number",
                        "type" : "integer",
                        "nullable" : true,
                        "metadata" : {
                          "description" : "",
                          "mappings" : [ ],
                          "tags" : [ ]
                        }
                      } ]
                    },
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  } ]
                },
                "containsNull" : true
              },
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : true,
        "autoUpdateOnRun" : true
      },
      "properties" : {
        "operation" : "pdf_parse",
        "column_name" : "content",
        "split_chunk_size" : 1000,
        "chunk_overlap" : 0
      },
      "componentInfo" : {
        "gemId" : "gems/TextProcessing",
        "projectName" : "optum_gen_ai_chatbot_template"
      }
    },
    "GZ2OyX8Xj8nf2It3rFshL$$9w_yEOcVS4F56nSX_Wt7L" : {
      "id" : "GZ2OyX8Xj8nf2It3rFshL$$9w_yEOcVS4F56nSX_Wt7L",
      "component" : "FlattenSchema",
      "metadata" : {
        "label" : "flatten_chunks",
        "slug" : "flatten_chunks",
        "x" : -1980,
        "y" : -540,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "T9gBuJQrwWWXxjNq_PzUF$$dpqUij3w4fIH7dDHraN2U",
          "slug" : "in0",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "doc_id",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "path",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "text",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "result_chunks",
              "type" : {
                "type" : "array",
                "elementType" : "string",
                "containsNull" : true
              },
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "outputs" : [ {
          "id" : "4_C11OlnLazt28GPpe0iI$$OhE_oWiXfE0zPL6bVLEOa",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false,
        "autoUpdateOnRun" : false
      },
      "properties" : {
        "explodedColsNewName" : [ {
          "originalColToExplode" : "result_chunks",
          "updatedColToExplode" : "result_chunks",
          "colNameAfterExplode" : "result_chunks"
        } ],
        "fsExpressions" : [ {
          "exploded" : "",
          "flattenedExpression" : "doc_id",
          "expression" : {
            "format" : "sql",
            "expression" : "doc_id"
          },
          "targetTokens" : [ "doc_id" ],
          "target" : "doc_id"
        }, {
          "exploded" : "",
          "flattenedExpression" : "path",
          "expression" : {
            "format" : "sql",
            "expression" : "path"
          },
          "targetTokens" : [ "path" ],
          "target" : "path"
        }, {
          "exploded" : "✓",
          "flattenedExpression" : "result_chunks",
          "expression" : {
            "format" : "sql",
            "expression" : "result_chunks"
          },
          "targetTokens" : [ "result_chunks" ],
          "target" : "result_chunks"
        } ],
        "columnsSelector" : [ "T9gBuJQrwWWXxjNq_PzUF$$dpqUij3w4fIH7dDHraN2U##doc_id", "T9gBuJQrwWWXxjNq_PzUF$$dpqUij3w4fIH7dDHraN2U##path", "T9gBuJQrwWWXxjNq_PzUF$$dpqUij3w4fIH7dDHraN2U##result_chunks" ],
        "explodeColumns" : [ ],
        "delimiter" : "-"
      },
      "componentInfo" : {
        "gemId" : "gitUri=&subPath=&tag=0.0.7&projectSubscriptionProjectId=12654&path=gems/FlattenSchema",
        "projectName" : "ProphecySparkBasicsPython"
      }
    },
    "rM-RE_zaCJZzNm4CQVQzy$$NIcW6JWhrAi94lpDdbjNG" : {
      "id" : "rM-RE_zaCJZzNm4CQVQzy$$NIcW6JWhrAi94lpDdbjNG",
      "component" : "Reformat",
      "metadata" : {
        "label" : "explode",
        "slug" : "explode",
        "x" : -2480,
        "y" : -540,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "TY2EN8E6rIGKDDjWo2iZc$$Jrr98a2hX9k5Kmq9-_tuF",
          "slug" : "in0",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "path",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "modificationTime",
              "type" : "timestamp",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "length",
              "type" : "long",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "content",
              "type" : "binary",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "result_content",
              "type" : {
                "type" : "array",
                "elementType" : {
                  "type" : "struct",
                  "fields" : [ {
                    "name" : "element_id",
                    "type" : "string",
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  }, {
                    "name" : "coordinates",
                    "type" : {
                      "type" : "array",
                      "elementType" : "float",
                      "containsNull" : true
                    },
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  }, {
                    "name" : "text",
                    "type" : "string",
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  }, {
                    "name" : "type",
                    "type" : "string",
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  }, {
                    "name" : "metadata",
                    "type" : {
                      "type" : "struct",
                      "fields" : [ {
                        "name" : "filename",
                        "type" : "string",
                        "nullable" : true,
                        "metadata" : {
                          "description" : "",
                          "mappings" : [ ],
                          "tags" : [ ]
                        }
                      }, {
                        "name" : "filetype",
                        "type" : "string",
                        "nullable" : true,
                        "metadata" : {
                          "description" : "",
                          "mappings" : [ ],
                          "tags" : [ ]
                        }
                      }, {
                        "name" : "page_number",
                        "type" : "integer",
                        "nullable" : true,
                        "metadata" : {
                          "description" : "",
                          "mappings" : [ ],
                          "tags" : [ ]
                        }
                      } ]
                    },
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  } ]
                },
                "containsNull" : true
              },
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "outputs" : [ {
          "id" : "58Q_5VkebK6VNGcCXqtNJ$$Wak2Q9QgLpcSGiy4ldMpM",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false,
        "autoUpdateOnRun" : false
      },
      "properties" : {
        "importLanguage" : "${$.workflow.metainfo.frontEndLanguage}",
        "expressions" : [ {
          "target" : "path",
          "expression" : {
            "format" : "sql",
            "expression" : "path"
          },
          "description" : ""
        }, {
          "target" : "text",
          "expression" : {
            "format" : "sql",
            "expression" : "concat_ws(', ', result_content.text)"
          },
          "description" : ""
        } ],
        "importString" : "",
        "activeTab" : "expressions",
        "columnsSelector" : [ "TY2EN8E6rIGKDDjWo2iZc$$Jrr98a2hX9k5Kmq9-_tuF##result_content", "TY2EN8E6rIGKDDjWo2iZc$$Jrr98a2hX9k5Kmq9-_tuF##result_content.text", "TY2EN8E6rIGKDDjWo2iZc$$Jrr98a2hX9k5Kmq9-_tuF##path" ]
      },
      "componentInfo" : {
        "gemId" : "gitUri=&subPath=&tag=0.0.7&projectSubscriptionProjectId=12654&path=gems/Reformat",
        "projectName" : "ProphecySparkBasicsPython"
      }
    },
    "7ojN7asGQi36J1SfoW7dj$$7i49qzW7EDrZaboMKTJjz" : {
      "id" : "7ojN7asGQi36J1SfoW7dj$$7i49qzW7EDrZaboMKTJjz",
      "component" : "Reformat",
      "metadata" : {
        "label" : "document_ids_1",
        "slug" : "document_ids_1",
        "x" : -2320,
        "y" : -720,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "mhxAAyWv42db0l6urdw_C$$bXswOCunuT6YLefVBp66L",
          "slug" : "in0",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "path",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "text",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "outputs" : [ {
          "id" : "oNXR_-p7tDF55XYoy3vAR$$LdbY16Z-vSa0jULNs3U5f",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false,
        "autoUpdateOnRun" : false
      },
      "properties" : {
        "importLanguage" : "${$.workflow.metainfo.frontEndLanguage}",
        "expressions" : [ {
          "target" : "doc_id",
          "expression" : {
            "format" : "sql",
            "expression" : "concat('doc-', monotonically_increasing_id())"
          },
          "description" : ""
        }, {
          "target" : "path",
          "expression" : {
            "format" : "sql",
            "expression" : "path"
          },
          "description" : ""
        }, {
          "target" : "text",
          "expression" : {
            "format" : "sql",
            "expression" : "text"
          },
          "description" : ""
        } ],
        "importString" : "",
        "activeTab" : "expressions",
        "columnsSelector" : [ "mhxAAyWv42db0l6urdw_C$$bXswOCunuT6YLefVBp66L##text", "mhxAAyWv42db0l6urdw_C$$bXswOCunuT6YLefVBp66L##path" ]
      },
      "componentInfo" : {
        "gemId" : "gitUri=&subPath=&tag=0.0.7&projectSubscriptionProjectId=12654&path=gems/Reformat",
        "projectName" : "ProphecySparkBasicsPython"
      }
    },
    "9yEPWjdw1vcet0MZUPAGi$$uWKytw4Elt0aM7IGOuPvO" : {
      "id" : "9yEPWjdw1vcet0MZUPAGi$$uWKytw4Elt0aM7IGOuPvO",
      "component" : "Reformat",
      "metadata" : {
        "label" : "get_ids",
        "slug" : "get_ids",
        "x" : -1800,
        "y" : -540,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "3aUhtN30MZ9GFp2j3K6XH$$EwCizAE25zfvCI8rtLTnN",
          "slug" : "in0",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "doc_id",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "path",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "result_chunks",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "outputs" : [ {
          "id" : "SpSVZS_p70yFurNXx3DwR$$qYf4PY8Wf1cHpcEHymskR",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false,
        "autoUpdateOnRun" : false
      },
      "properties" : {
        "importLanguage" : "${$.workflow.metainfo.frontEndLanguage}",
        "expressions" : [ {
          "target" : "doc_id",
          "expression" : {
            "format" : "sql",
            "expression" : "doc_id"
          },
          "description" : ""
        }, {
          "target" : "id",
          "expression" : {
            "format" : "sql",
            "expression" : "concat('text-', monotonically_increasing_id())"
          },
          "description" : ""
        }, {
          "target" : "result_chunks",
          "expression" : {
            "format" : "sql",
            "expression" : "result_chunks"
          },
          "description" : ""
        } ],
        "importString" : "",
        "activeTab" : "expressions",
        "columnsSelector" : [ "3aUhtN30MZ9GFp2j3K6XH$$EwCizAE25zfvCI8rtLTnN##result_chunks", "3aUhtN30MZ9GFp2j3K6XH$$EwCizAE25zfvCI8rtLTnN##doc_id" ]
      },
      "componentInfo" : {
        "gemId" : "gitUri=&subPath=&tag=0.0.7&projectSubscriptionProjectId=12654&path=gems/Reformat",
        "projectName" : "ProphecySparkBasicsPython"
      }
    },
    "Lcyw-8Zu-OgU_AoWaBYNd$$blOL_yTf7jA3BilqMDaLp" : {
      "id" : "Lcyw-8Zu-OgU_AoWaBYNd$$blOL_yTf7jA3BilqMDaLp",
      "component" : "Source",
      "metadata" : {
        "label" : "vector_read_catalog",
        "slug" : "vector_read_catalog",
        "x" : -2780,
        "y" : -200,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ ],
        "outputs" : [ {
          "id" : "pwrn_bjOkryDj4FqnnWVZ$$KrCEEo9CIMR024P45fziY",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false,
        "autoUpdateOnRun" : false
      },
      "properties" : {
        "datasetId" : "datasets/content_vectorized"
      }
    },
    "JIuLQaZqQrZIsofe1ZaiE$$nINKltnTeqrFGtVZN7r0f" : {
      "id" : "JIuLQaZqQrZIsofe1ZaiE$$nINKltnTeqrFGtVZN7r0f",
      "component" : "Source",
      "metadata" : {
        "label" : "optum_pdf",
        "slug" : "optum_pdf",
        "x" : -2780,
        "y" : -540,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ ],
        "outputs" : [ {
          "id" : "-HvFNkJ6TF1f6ddifpBTz$$a5hg9aUjjF19oCUi8IZ61",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false,
        "autoUpdateOnRun" : false
      },
      "properties" : {
        "datasetId" : "datasets/optum_pdf"
      }
    },
    "TF5cE338Sk3tHEo1xNdlO$$EsQzff3e1MJQ-xxHknOPy" : {
      "id" : "TF5cE338Sk3tHEo1xNdlO$$EsQzff3e1MJQ-xxHknOPy",
      "component" : "Reformat",
      "metadata" : {
        "label" : "explode_docx",
        "slug" : "explode_docx",
        "x" : -2480,
        "y" : -720,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "3E2y-qBaoHV43kAMjZKqu$$tFLPEaBGgjl2cf4FI_kZl",
          "slug" : "in0",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "path",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "modificationTime",
              "type" : "timestamp",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "length",
              "type" : "long",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "content",
              "type" : "binary",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "result_content",
              "type" : {
                "type" : "array",
                "elementType" : {
                  "type" : "struct",
                  "fields" : [ {
                    "name" : "element_id",
                    "type" : "string",
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  }, {
                    "name" : "coordinates",
                    "type" : {
                      "type" : "array",
                      "elementType" : "float",
                      "containsNull" : true
                    },
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  }, {
                    "name" : "text",
                    "type" : "string",
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  }, {
                    "name" : "type",
                    "type" : "string",
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  }, {
                    "name" : "metadata",
                    "type" : {
                      "type" : "struct",
                      "fields" : [ {
                        "name" : "filename",
                        "type" : "string",
                        "nullable" : true,
                        "metadata" : {
                          "description" : "",
                          "mappings" : [ ],
                          "tags" : [ ]
                        }
                      }, {
                        "name" : "filetype",
                        "type" : "string",
                        "nullable" : true,
                        "metadata" : {
                          "description" : "",
                          "mappings" : [ ],
                          "tags" : [ ]
                        }
                      }, {
                        "name" : "page_number",
                        "type" : "integer",
                        "nullable" : true,
                        "metadata" : {
                          "description" : "",
                          "mappings" : [ ],
                          "tags" : [ ]
                        }
                      } ]
                    },
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  } ]
                },
                "containsNull" : true
              },
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "outputs" : [ {
          "id" : "SNUa8pExQm-CE15vM1y2u$$Pr4H_UE-JACmAKQpkax3M",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false,
        "autoUpdateOnRun" : false
      },
      "properties" : {
        "importLanguage" : "${$.workflow.metainfo.frontEndLanguage}",
        "expressions" : [ {
          "target" : "path",
          "expression" : {
            "format" : "sql",
            "expression" : "path"
          },
          "description" : ""
        }, {
          "target" : "text",
          "expression" : {
            "format" : "sql",
            "expression" : "concat_ws(', ', result_content.text)"
          },
          "description" : ""
        } ],
        "importString" : "",
        "activeTab" : "expressions",
        "columnsSelector" : [ "3E2y-qBaoHV43kAMjZKqu$$tFLPEaBGgjl2cf4FI_kZl##result_content", "3E2y-qBaoHV43kAMjZKqu$$tFLPEaBGgjl2cf4FI_kZl##result_content.text", "3E2y-qBaoHV43kAMjZKqu$$tFLPEaBGgjl2cf4FI_kZl##path" ]
      },
      "componentInfo" : {
        "gemId" : "gitUri=&subPath=&tag=0.0.7&projectSubscriptionProjectId=12654&path=gems/Reformat",
        "projectName" : "ProphecySparkBasicsPython"
      }
    },
    "7msPqIFBZv4r5A0DqgQ0T$$AFwg25mc21IpcrT1EJvXZ" : {
      "id" : "7msPqIFBZv4r5A0DqgQ0T$$AFwg25mc21IpcrT1EJvXZ",
      "component" : "Filter",
      "metadata" : {
        "label" : "remove_nulls",
        "slug" : "remove_nulls",
        "x" : -1460,
        "y" : -540,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "p1ILkMeUB57SzPHZ-tmMk$$dnR6-QpxiIhD2fztYYxX8",
          "slug" : "in0",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "doc_id",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "id",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "result_chunks",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "bedrock_embedding",
              "type" : {
                "type" : "array",
                "elementType" : "float",
                "containsNull" : true
              },
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "bedrock_error",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "outputs" : [ {
          "id" : "lEK3GElp2G5xXpD6EIINd$$mZYhVgu_ubW61-LLfpab8",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false,
        "autoUpdateOnRun" : false
      },
      "properties" : {
        "columnsSelector" : [ "p1ILkMeUB57SzPHZ-tmMk$$dnR6-QpxiIhD2fztYYxX8##bedrock_error" ],
        "condition" : {
          "format" : "sql",
          "expression" : "bedrock_error is null"
        }
      },
      "componentInfo" : {
        "gemId" : "gitUri=&subPath=&tag=0.0.7&projectSubscriptionProjectId=12654&path=gems/Filter",
        "projectName" : "ProphecySparkBasicsPython"
      }
    },
    "-jqpKLI1JSWrKJwzpFeiR$$qVWZ6zx93Lxmoc9HkOhGH" : {
      "id" : "-jqpKLI1JSWrKJwzpFeiR$$qVWZ6zx93Lxmoc9HkOhGH",
      "component" : "Bedrock",
      "metadata" : {
        "label" : "Bedrock",
        "slug" : "Bedrock",
        "x" : -1620,
        "y" : -540,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "FEEJFcjugkAnfzHdWalIl$$3dV76SvO_xj68NC6YtGyX",
          "slug" : "in0",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "doc_id",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "id",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "result_chunks",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "outputs" : [ {
          "id" : "GR-hciBom_2ChBx_H6uk8$$oPw3XC_O9unyCEp_ByQB9",
          "slug" : "out",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "doc_id",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "id",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "result_chunks",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "bedrock_embedding",
              "type" : {
                "type" : "array",
                "elementType" : "float",
                "containsNull" : true
              },
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "bedrock_error",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : true,
        "autoUpdateOnRun" : true
      },
      "properties" : {
        "aws_region" : "us-east-1",
        "credential_manual_secret" : "",
        "credential_manual_key" : "",
        "credential_type" : "databricks",
        "credential_db_scope" : "opensearch_serverless",
        "credential_db_secret" : "secret",
        "operation" : "embed_texts",
        "embed_text_column_name" : "result_chunks",
        "credential_db_key" : "access_key"
      },
      "componentInfo" : {
        "gemId" : "gems/Bedrock",
        "projectName" : "optum_gen_ai_chatbot_template"
      }
    },
    "kOyQyTIldbKwNRAbBtz0D$$15hAc4Xb_RqmlF_CF32ZC" : {
      "id" : "kOyQyTIldbKwNRAbBtz0D$$15hAc4Xb_RqmlF_CF32ZC",
      "component" : "FlattenSchema",
      "metadata" : {
        "label" : "FlattenSchema_1",
        "slug" : "FlattenSchema_1",
        "x" : -2320,
        "y" : -360,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "9eu69W5m1OoxGPzgQ8Z1U$$vnrI2PN8bjUGT_X0nls1E",
          "slug" : "in0",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "col1",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "result_chunks",
              "type" : {
                "type" : "array",
                "elementType" : "string",
                "containsNull" : true
              },
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "outputs" : [ {
          "id" : "MqnR3uHP6ghN3Wg5JkOIk$$Kqal6QkDFIlP5DaiyzmuJ",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false,
        "autoUpdateOnRun" : false
      },
      "properties" : {
        "explodedColsNewName" : [ {
          "originalColToExplode" : "result_chunks",
          "updatedColToExplode" : "result_chunks",
          "colNameAfterExplode" : "result_chunks"
        } ],
        "fsExpressions" : [ {
          "exploded" : "✓",
          "flattenedExpression" : "result_chunks",
          "expression" : {
            "format" : "sql",
            "expression" : "result_chunks"
          },
          "targetTokens" : [ "result_chunks" ],
          "target" : "result_chunks"
        } ],
        "columnsSelector" : [ "9eu69W5m1OoxGPzgQ8Z1U$$vnrI2PN8bjUGT_X0nls1E##result_chunks" ],
        "explodeColumns" : [ ],
        "delimiter" : "-"
      },
      "componentInfo" : {
        "gemId" : "gitUri=&subPath=&tag=0.0.7&projectSubscriptionProjectId=12654&path=gems/FlattenSchema",
        "projectName" : "ProphecySparkBasicsPython"
      }
    },
    "mdNDmsmeDOKpFavD9TCGk$$k0XGhD_ECbR4E8D22qgMP" : {
      "id" : "mdNDmsmeDOKpFavD9TCGk$$k0XGhD_ECbR4E8D22qgMP",
      "component" : "FlattenSchema",
      "metadata" : {
        "label" : "flatten_docx",
        "slug" : "flatten_docx",
        "x" : -2020,
        "y" : -720,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "qFxHoTzSI9YnDiEvQBuWR$$LjexbcsXwxeWYUc11TV8Y",
          "slug" : "in0",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "doc_id",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "path",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "text",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "result_chunks",
              "type" : {
                "type" : "array",
                "elementType" : "string",
                "containsNull" : true
              },
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "outputs" : [ {
          "id" : "On8Y3enEBOwcfE5lyz21E$$k5WhOfoIlignmgU_sCO1K",
          "slug" : "out",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "doc_id",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "path",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "result_chunks",
              "type" : {
                "type" : "array",
                "elementType" : "string",
                "containsNull" : true
              },
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : true,
        "autoUpdateOnRun" : true
      },
      "properties" : {
        "explodedColsNewName" : [ ],
        "fsExpressions" : [ {
          "exploded" : "",
          "flattenedExpression" : "doc_id",
          "expression" : {
            "format" : "sql",
            "expression" : "doc_id"
          },
          "targetTokens" : [ "doc_id" ],
          "target" : "doc_id"
        }, {
          "exploded" : "",
          "flattenedExpression" : "path",
          "expression" : {
            "format" : "sql",
            "expression" : "path"
          },
          "targetTokens" : [ "path" ],
          "target" : "path"
        }, {
          "exploded" : "✓",
          "flattenedExpression" : "result_chunks",
          "expression" : {
            "format" : "sql",
            "expression" : "result_chunks"
          },
          "targetTokens" : [ "result_chunks" ],
          "target" : "result_chunks"
        } ],
        "columnsSelector" : [ "qFxHoTzSI9YnDiEvQBuWR$$LjexbcsXwxeWYUc11TV8Y##doc_id", "qFxHoTzSI9YnDiEvQBuWR$$LjexbcsXwxeWYUc11TV8Y##path" ],
        "explodeColumns" : [ ],
        "delimiter" : "-"
      },
      "componentInfo" : {
        "gemId" : "gitUri=&subPath=&tag=0.0.7&projectSubscriptionProjectId=12654&path=gems/FlattenSchema",
        "projectName" : "ProphecySparkBasicsPython"
      }
    },
    "dOYGvQ7KH17MxVDCEysOm$$d-ZNDUMV6XfYBp5xT9Hy9" : {
      "id" : "dOYGvQ7KH17MxVDCEysOm$$d-ZNDUMV6XfYBp5xT9Hy9",
      "component" : "TextProcessing",
      "metadata" : {
        "label" : "parse_docx",
        "slug" : "parse_docx",
        "x" : -2640,
        "y" : -720,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "NqN22KSrpjTm-bcxxNKu0$$PARb-EMFCyFWfQUbJGCFF",
          "slug" : "in0",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "path",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "modificationTime",
              "type" : "timestamp",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "length",
              "type" : "long",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "content",
              "type" : "binary",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "outputs" : [ {
          "id" : "jFf6yUv0EPxQpewDhMhX4$$gDcaaUVjNcyWZJzV_pm38",
          "slug" : "out",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "path",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "modificationTime",
              "type" : "timestamp",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "length",
              "type" : "long",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "content",
              "type" : "binary",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "result_content",
              "type" : {
                "type" : "array",
                "elementType" : {
                  "type" : "struct",
                  "fields" : [ {
                    "name" : "element_id",
                    "type" : "string",
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  }, {
                    "name" : "coordinates",
                    "type" : {
                      "type" : "array",
                      "elementType" : "float",
                      "containsNull" : true
                    },
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  }, {
                    "name" : "text",
                    "type" : "string",
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  }, {
                    "name" : "type",
                    "type" : "string",
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  }, {
                    "name" : "metadata",
                    "type" : {
                      "type" : "struct",
                      "fields" : [ {
                        "name" : "filename",
                        "type" : "string",
                        "nullable" : true,
                        "metadata" : {
                          "description" : "",
                          "mappings" : [ ],
                          "tags" : [ ]
                        }
                      }, {
                        "name" : "filetype",
                        "type" : "string",
                        "nullable" : true,
                        "metadata" : {
                          "description" : "",
                          "mappings" : [ ],
                          "tags" : [ ]
                        }
                      }, {
                        "name" : "page_number",
                        "type" : "integer",
                        "nullable" : true,
                        "metadata" : {
                          "description" : "",
                          "mappings" : [ ],
                          "tags" : [ ]
                        }
                      } ]
                    },
                    "nullable" : true,
                    "metadata" : {
                      "description" : "",
                      "mappings" : [ ],
                      "tags" : [ ]
                    }
                  } ]
                },
                "containsNull" : true
              },
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : true,
        "autoUpdateOnRun" : true
      },
      "properties" : {
        "operation" : "docx_parse",
        "column_name" : "content",
        "split_chunk_size" : 1000,
        "chunk_overlap" : 0
      },
      "componentInfo" : {
        "gemId" : "gems/TextProcessing",
        "projectName" : "optum_gen_ai_chatbot_template"
      }
    },
    "kJxdJDL1SZP1cuKZ_X7Nw$$0NpdwI1pFJF_WrSut7M8M" : {
      "id" : "kJxdJDL1SZP1cuKZ_X7Nw$$0NpdwI1pFJF_WrSut7M8M",
      "component" : "Reformat",
      "metadata" : {
        "label" : "rename",
        "slug" : "rename",
        "x" : -1320,
        "y" : -540,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "ly5yZqK9ZAxZ5dByrKKQ9$$152hSBXu5uMzDy5XrSLq3",
          "slug" : "in0",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "doc_id",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "id",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "result_chunks",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "bedrock_embedding",
              "type" : {
                "type" : "array",
                "elementType" : "float",
                "containsNull" : true
              },
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "bedrock_error",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "outputs" : [ {
          "id" : "q6W2TCzAcOJZiZ1rEgyou$$-sJauq-e9pIVTSPHtCqdE",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false,
        "autoUpdateOnRun" : false
      },
      "properties" : {
        "importLanguage" : "${$.workflow.metainfo.frontEndLanguage}",
        "expressions" : [ {
          "target" : "doc_id",
          "expression" : {
            "format" : "sql",
            "expression" : "doc_id"
          },
          "description" : ""
        }, {
          "target" : "id",
          "expression" : {
            "format" : "sql",
            "expression" : "id"
          },
          "description" : ""
        }, {
          "target" : "embedding",
          "expression" : {
            "format" : "sql",
            "expression" : "bedrock_embedding"
          },
          "description" : ""
        }, {
          "target" : "content_chunk",
          "expression" : {
            "format" : "sql",
            "expression" : "result_chunks"
          },
          "description" : ""
        } ],
        "importString" : "",
        "activeTab" : "expressions",
        "columnsSelector" : [ "ly5yZqK9ZAxZ5dByrKKQ9$$152hSBXu5uMzDy5XrSLq3##id", "ly5yZqK9ZAxZ5dByrKKQ9$$152hSBXu5uMzDy5XrSLq3##result_chunks", "ly5yZqK9ZAxZ5dByrKKQ9$$152hSBXu5uMzDy5XrSLq3##doc_id", "ly5yZqK9ZAxZ5dByrKKQ9$$152hSBXu5uMzDy5XrSLq3##bedrock_embedding" ]
      },
      "componentInfo" : {
        "gemId" : "gitUri=&subPath=&tag=0.0.7&projectSubscriptionProjectId=12654&path=gems/Reformat",
        "projectName" : "ProphecySparkBasicsPython"
      }
    },
    "hDQrFwgBCFz05VDt1Nca8$$Qzyqix1pcJSmIxk8hZ4W7" : {
      "id" : "hDQrFwgBCFz05VDt1Nca8$$Qzyqix1pcJSmIxk8hZ4W7",
      "component" : "Script",
      "metadata" : {
        "label" : "sample_df",
        "slug" : "sample_df",
        "x" : -2780,
        "y" : -360,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ ],
        "outputs" : [ {
          "id" : "msSF1CafS-eR2uqmEvcnS$$e5nhrMFCCpMWbf4pLNzL3",
          "slug" : "out0",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "col1",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : true,
        "autoUpdateOnRun" : true
      },
      "properties" : {
        "script" : "data = [(\"A bunch of scientists bring back dinosaurs and mayhem breaks loose. Leo DiCaprio gets lost in a dream within a dream within a dream within a ... A psychologist / detective gets lost in a series of dreams within dreams within dreams and Inception reused the idea.\")]\nschema = StructType([StructField(\"col1\", StringType(), True)])\ndf = spark.createDataFrame([(value,) for value in data], schema=schema)\nreturn df",
        "scriptMethodHeader" : "def Script(spark: SparkSession) -> DataFrame:",
        "scriptMethodFooter" : "    return out0"
      }
    },
    "Isz4iBdyuT1R2XbXprcMn$$3hzk814MuCsgz-sf0srJ3" : {
      "id" : "Isz4iBdyuT1R2XbXprcMn$$3hzk814MuCsgz-sf0srJ3",
      "component" : "TextProcessing",
      "metadata" : {
        "label" : "chunkify",
        "slug" : "chunkify",
        "x" : -2160,
        "y" : -540,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "2YmvikyJgYONHHUjuyXRJ$$bH24T6kEn0Lo6xPS8XUCI",
          "slug" : "in0",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "doc_id",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "path",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "text",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "outputs" : [ {
          "id" : "4krcJV_U6uxh5D96Hvz4b$$UiF2B9KG2Ryi5IYZzNd4z",
          "slug" : "out",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "doc_id",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "path",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "text",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "result_chunks",
              "type" : {
                "type" : "array",
                "elementType" : "string",
                "containsNull" : true
              },
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : true,
        "autoUpdateOnRun" : true
      },
      "properties" : {
        "operation" : "text_split_into_chunks",
        "column_name" : "text",
        "split_chunk_size" : 1000,
        "chunk_overlap" : 0
      },
      "componentInfo" : {
        "gemId" : "gems/TextProcessing",
        "projectName" : "optum_gen_ai_chatbot_template"
      }
    },
    "hNUdmU3VwndGuiEIe1iB3$$TAXT88AADr36rslnNcfgF" : {
      "id" : "hNUdmU3VwndGuiEIe1iB3$$TAXT88AADr36rslnNcfgF",
      "component" : "Source",
      "metadata" : {
        "label" : "docx_binaries",
        "slug" : "docx_binaries",
        "x" : -2780,
        "y" : -720,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ ],
        "outputs" : [ {
          "id" : "uypYrLhgkKzMajlNWgxgJ$$BzT757EzC1JovD5E2NwkM",
          "slug" : "out"
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false,
        "autoUpdateOnRun" : false
      },
      "properties" : {
        "datasetId" : "datasets/parse_docx"
      }
    },
    "eDFraeZS1NPPGCKUZq3GH$$nXnIlDKUlv6OFHzb4uvOT" : {
      "id" : "eDFraeZS1NPPGCKUZq3GH$$nXnIlDKUlv6OFHzb4uvOT",
      "component" : "TextProcessing",
      "metadata" : {
        "label" : "test_chunk_overlap",
        "slug" : "test_chunk_overlap",
        "x" : -2560,
        "y" : -360,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "Se36kMRgZ68XUzsIOZ5HF$$AzfCenjRXsmRRmRRYspso",
          "slug" : "in0",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "col1",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "outputs" : [ {
          "id" : "xYXJuylFHxxT8U2XVTEM4$$GxwvK4hN1-LIlamHaaDj4",
          "slug" : "out",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "col1",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "result_chunks",
              "type" : {
                "type" : "array",
                "elementType" : "string",
                "containsNull" : true
              },
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : true,
        "autoUpdateOnRun" : true
      },
      "properties" : {
        "operation" : "text_split_into_chunks",
        "column_name" : "col1",
        "split_chunk_size" : 1000,
        "chunk_overlap" : 5
      },
      "componentInfo" : {
        "gemId" : "gems/TextProcessing",
        "projectName" : "optum_gen_ai_chatbot_template"
      }
    },
    "fGRK4PmmcjKp3ye9PsnEb$$T5cXF_42jqTZLghIa0Gk_" : {
      "id" : "fGRK4PmmcjKp3ye9PsnEb$$T5cXF_42jqTZLghIa0Gk_",
      "component" : "Target",
      "metadata" : {
        "label" : "populate_vector_db",
        "slug" : "populate_vector_db",
        "x" : -1160,
        "y" : -540,
        "phase" : 0,
        "cache" : false,
        "detailedStats" : false,
        "isImported" : false
      },
      "ports" : {
        "inputs" : [ {
          "id" : "Q_jhPpm7Hl-ikVy2mLfGQ$$GpZPdWzDpe0fVFqLU8EF6",
          "slug" : "in0",
          "schema" : {
            "type" : "struct",
            "fields" : [ {
              "name" : "doc_id",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "id",
              "type" : "string",
              "nullable" : false,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "embedding",
              "type" : {
                "type" : "array",
                "elementType" : "float",
                "containsNull" : true
              },
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            }, {
              "name" : "content_chunk",
              "type" : "string",
              "nullable" : true,
              "metadata" : {
                "description" : "",
                "mappings" : [ ],
                "tags" : [ ]
              }
            } ]
          },
          "isStreaming" : false
        } ],
        "outputs" : [ ],
        "selectedInputFields" : [ ],
        "isCustomOutputSchema" : false,
        "autoUpdateOnRun" : false
      },
      "properties" : {
        "datasetId" : "datasets/Populate_Vector_DB"
      }
    }
  },
  "ports" : {
    "inputs" : [ ],
    "outputs" : [ ],
    "selectedInputFields" : [ ],
    "isCustomOutputSchema" : false,
    "autoUpdateOnRun" : false
  }
}